@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row" style="margin-top: 10px;">
    <div id="searchbox" class="col-lg-12">
        <div class="form-inline text-center" role="form">
            <div class="form-group">
                <div class="input-group">
                    <input type="text" id="searchKey" class="form-control" />    
                </div>
            </div>
            <button id="btnSearch" class="btn btn-primary">
                Search&nbsp;<i class="glyphicon glyphicon-search"></i>
            </button>
        </div>
    </div>
</div>
<div class="row">
    &nbsp;
</div>
<div class="row">
    <div id="featuredbox" class="col-lg-12 text-center">
        <img src="~/Assets/Images/img_center_sample.jpg" alt="featured items" class="img-featured">    
    </div>
</div>
<div class="row">
    &nbsp;
</div>
<div id="panelbox" class="row">
    <div class="col-lg-4 text-center">
        <img src="~/Assets/Images/img_cate_sample_1.jpg" class="img-thumbnail" />
        <p></p>
        <label class="text-success" style="font-size: 20px;">Towels</label>
    </div>
    <div class="col-lg-4 text-center">
        <img src="~/Assets/Images/img_cate_sample_2.jpg" class="img-thumbnail" />
        <p></p>
        <label class="text-success" style="font-size: 20px;">Cabinets</label>
    </div>
    <div class="col-lg-4 text-center">
        <img src="~/Assets/Images/img_cate_sample_3.jpg" class="img-thumbnail" />
        <p></p>
        <label class="text-success" style="font-size: 20px;">Mirrors</label>
    </div>
</div>
<script type="text/javascript">
    $(document).ajaxError(function (evt, xhr) {
        try {
            var json = $.parseJSON(xhr.responseText);
            alert(json.errorMessage);
        } catch (e) {
            alert("something bad happened");
        }
    });


    $('#btnSearch').click(function () {
        $.ajax({
            url: "@Url.Action("SetSearchSession","Home")",
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({ searchKey: $('#searchKey').val() }),
            success: function(result) {
                window.location = '@Url.Action("Search", "Home")';
            }
        });
    });
</script>